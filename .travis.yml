# Travis CI config for the WordPoints developer tools.

language: php

php:
  - 7.0

# Use the new infrustructure.
sudo: false

before_script:
  - gem install travis-lint
  - source bin/functions.sh
  - export CODESNIFF_PATH=(.)
  - export CODESNIFF_PATH_5_2=(. '!' -path './phpcs/*' '!' -path './l10n-validator/*')

script:
  - wpdl-codesniff-xmllint
  - wpdl-codesniff-bash
  - find ./travis -name '*.yml' ! -name '.coveralls.yml' -exec travis-lint {} \;
  - phpenv global 5.2 && CODESNIFF_PATH=CODESNIFF_PATH_5_2 wpdl-codesniff-php-syntax
  - phpenv global 5.3 && wpdl-codesniff-php-syntax
  - phpenv global 5.4 && wpdl-codesniff-php-syntax
  - phpenv global 5.5 && wpdl-codesniff-php-syntax
  - phpenv global 5.6 && wpdl-codesniff-php-syntax
  - phpenv global 7.0 && wpdl-codesniff-php-syntax
  - phpenv global hhvm && wpdl-codesniff-php-syntax

# EOF
